"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){var a={ok:{label:"OK"}},n={cancel:{label:"CANCEL"},confirm:{label:"CONFIRM"}},i={cancel:{label:"CANCEL"},confirm:{label:"CONFIRM"}},o={animate:!0,attrs:null,buttons:null,callback:null,dismissible:!0,input:null,locale:"en",message:"",title:""},l={en:{OK:"Ok",CONFIRM:"Confirm",CANCEL:"Cancel"},id:{OK:"Oke",CONFIRM:"Setuju",CANCEL:"Batal"}},r={};r.index=0,r.get=function(t){return(t||"")+r.index++};var s=function(t,e){if("object"===_typeof(e[0]))return e[0];var a={alert:[{type:"string",negation:!1,param:"message"},{type:"string",negation:!1,param:"title"},{type:"function",negation:!1,param:"callback"}],confirm:[{type:"string",negation:!1,param:"message"},{type:"string",negation:!1,param:"title"},{type:"function",negation:!1,param:"callback"}],prompt:[{type:"string",negation:!1,param:"message"},{type:"string",negation:!1,param:"title"},{type:"function",negation:!0,param:"value"},{type:"function",negation:!1,param:"callback"}]}[t],n={};return e.forEach(function(t){if(a.length)for(var e=void 0,i=void 0===t?"undefined":_typeof(t);(e=a.shift())&&e;)if((!e.negation||e.type!=i)&&(e.negation||e.type==i)){n[e.param]=t;break}}),n},p=function(t){this.action=null,this.element=null,this.instance=null,this.input=null,this.options=t;for(var e in o)t.hasOwnProperty(e)||(t[e]=o[e]);var a=this.buildHTML(),n=this.buildMOptions();this.instance=new M.Modal(a,n),this.instance.open()};p.prototype.close=function(){this.instance.close()},p.prototype.buildHTML=function(){var t=this.options,a=this,n=null,i=this.element=e('<div class="modal"></div>').appendTo(document.body);if(t.attrs)for(var o in t.attrs)"class"===o?i.addClass(t.attrs[o]):i.attr(o,t.attrs[o]);var r=e('<div class="modal-content"></div>').appendTo(i);if(t.title&&e("<h4>"+t.title+"</h4>").appendTo(r),t.message&&e("<p>"+t.message+"</p>").appendTo(r),t.input&&(n=a.buildInput(r)),t.buttons){var s=e('<div class="modal-footer"></div>').appendTo(i);for(var p in t.buttons){var c=t.buttons[p],u=c.label;l[t.locale]&&l[t.locale][u]&&(u=l[t.locale][u]);var d=e('<a href="#!" data-name="'+p+'" class="modal-action modal-close waves-effect btn-flat">'+u+"</a>").appendTo(s);c.attrs||(c.attrs={}),c.attrs.class||(c.attrs.class="cancel"!=p?"waves-green":"waves-red"),d.addClass(c.attrs.class),d.one("click",function(){a.action=e(this)})}}return n&&n(),i.get(0)},p.prototype.buildInput=function(t){var a=this.options.input;if(a){var n=a.instance||{};a.id=r.get("modal-input-"),a.type||(a.type="text");var i=null,o=void 0,l=void 0,s=[],p=[];switch(a.type){case"checkbox":case"radio":o=e('<div class="checkbox-field"></div>').appendTo(t),p=e.isArray(a.value)?a.value:[a.value],a.options.forEach(function(t){var n=e("<div></div>").appendTo(o),i=e("<label></label>").appendTo(n);l=e('<input type="'+a.type+'" name="'+a.id+'" value="'+t.value+'">').appendTo(i),e("<span>"+t.text+"</span>").appendTo(i),"radio"==a.type&&a.value==t.value?l.prop("checked",!0):"checkbox"==a.type&&~p.indexOf(t.value)&&l.prop("checked",!0),s.push(l)}),this.input=s;break;case"slider":l=e('<div id="'+a.id+'"></div>').appendTo(t),noUiSlider.create(l.get(0),n),this.input=l;break;case"range":if(o=e('<div class="range-field"></div>').appendTo(t),l=e('<input type="range" id="'+a.id+'">').appendTo(o),a.attrs)for(var c in a.attrs){var u=a.attrs[c];"class"==c?l.addClass(u):l.attr(c,u)}this.input=l;break;default:switch(o=e('<div class="input-field"></div>').appendTo(t),a.type){case"textarea":l=e('<textarea class="materialize-textarea" id="'+a.id+'"></textarea>').appendTo(o),a.value&&l.val(a.value),i=function(t){return function(){setTimeout(function(){t.trigger("autoresize")},100)}}(l);break;case"select":if(l=e("<select></select>").appendTo(o),a.attrs&&a.attrs.multiple&&l.prop("multiple",!0),a.label){var d="disabled";a.value||(d+=" selected"),l.append('<option value="" '+d+">"+a.label+"</option>")}if(a.options){var f={};p=e.isArray(a.value)?a.value:[a.value],a.options.forEach(function(t){var a=e('<option value="'+t.value+'">'+t.text+"</option>");~p.indexOf(t.value)&&a.attr("selected","selected"),t.icon&&(l.addClass("icons"),a.attr("data-icon",t.icon)),t.group?(f[t.group]||(f[t.group]=e('<optgroup label="'+t.group+'"></optgroup>').appendTo(l)),f[t.group].append(a)):l.append(a)})}i=function(t,e){return function(){setTimeout(function(){t.data("instance",new M.Select(t.get(0),e))},100)}}(l,n);break;default:if(l=e('<input type="'+a.type+'" id="'+a.id+'">').appendTo(o),~["email","url"].indexOf(a.type)&&(l.addClass("validate"),o.append('<span class="helper-text" data-error="Invalid value"></span>')),a.options){var v={};a.options.forEach(function(t){v[t.text]=null}),n.data=v,l.data("instance",new M.Autocomplete(l.get(0),n))}a.value&&l.val(a.value)}if(a.label&&o.append('<label for="'+a.id+'">'+a.label+"</label>"),a.attrs)for(var b in a.attrs){var m=a.attrs[b];"class"==b?l.addClass(m):l.attr(b,m)}this.input=l}return i}},p.prototype.buildMOptions=function(){var t={},a=this.options,n=this;return t.dismissible=a.dismissible,a.animate||(t.inDuration=t.outDuration=0),t.ready=function(){a.init&&a.init(),n.input&&n.input.get&&n.input.get(0).focus()},t.complete=function(){if(a.callback)if(n.action){var t=n.action.data("name"),i=a.buttons[t];if(i.callback&&i.callback(),"confirm"!==t)a.callback("cancel"!=t&&void 0);else if(n.input){var o="";switch(a.input.type){case"checkbox":o=[],n.input.forEach(function(t){t.prop("checked")&&o.push(t.val())});break;case"radio":n.input.forEach(function(t){t.prop("checked")&&(o=t.val())});break;case"slider":o=n.input.get(0).noUiSlider.get();break;default:o=n.input.val(),"select"==a.input.type&&e.isArray(o)&&""==o[0]&&o.splice(0,1)}o||(o=""),a.callback(o)}else a.callback(!0)}else a.callback();n.element.remove()},t};var c={};c.addLocale=function(t,e){return l[t]=e,c},c.alert=function(t,e,n){var i=s("alert",[t,e,n]);return i.buttons=a,i.input=null,c.dialog(i)},c.confirm=function(t,e,a){var i=s("confirm",[t,e,a]);return i.buttons=n,i.input=null,c.dialog(i)},c.dialog=function(t){return new p(t)},c.prompt=function(t,e,a,n){var o=s("prompt",[t,e,a,n]);return o.buttons=i,o.input||(o.input={type:"text"}),o.value&&!o.input.value&&(o.input.value=o.value),c.dialog(o)},c.removeLocale=function(t){return l[t]&&delete l[t],c},c.setDefaults=function(t){for(var e in o)t.hasOwnProperty(e)&&(o[e]=t[e]);return c},c.setLocale=function(t){if(!l[t])throw new Error("Translation named "+t+" not exists.");return o.locale=t,c},t.mzbox=c}(window,cash);